<MatTabGroup>
    <MatTab>
        <LabelContent>
            <MatIcon Icon="@MatIconNames.Description" />
            <p class="m-0">Description</p>
        </LabelContent>

        <ChildContent>
            <MatList TwoLine="true">
                <MatListItem>
                    <MatListItemText>
                        <MatListItemPrimaryText>Id</MatListItemPrimaryText>
                        <MatListItemSecondaryText>@Model.Id</MatListItemSecondaryText>
                    </MatListItemText>
                </MatListItem>

                <MatListItem>
                    <MatListItemText>
                        <MatListItemPrimaryText>Title</MatListItemPrimaryText>
                        <MatListItemSecondaryText>@Model.Name</MatListItemSecondaryText>
                    </MatListItemText>
                </MatListItem>

                <MatListItem>
                    <MatListItemText>
                        <MatListItemPrimaryText>Size (bytes)</MatListItemPrimaryText>
                        <MatListItemSecondaryText>@Model.Size</MatListItemSecondaryText>
                    </MatListItemText>
                </MatListItem>

                <MatListItem>
                    <MatListItemText>
                        <MatListItemPrimaryText>Date</MatListItemPrimaryText>
                        <MatListItemSecondaryText>@Model.CreatedAt.ToLongDateString()</MatListItemSecondaryText>
                    </MatListItemText>
                </MatListItem>

                <MatListItem>
                    <MatListItemText>
                        <MatListItemPrimaryText>Hash</MatListItemPrimaryText>
                        <MatListItemSecondaryText>@Model.Hash</MatListItemSecondaryText>
                    </MatListItemText>
                </MatListItem>
            </MatList>
        </ChildContent>
    </MatTab>

    @if (Model.Files != null && Model.Files.Length != 0)
    {
        <MatTab>
            <LabelContent>
                <MatIcon Icon="@MatIconNames.Folder_open" />
                <p class="m-0">Files</p>
            </LabelContent>

            <ChildContent>
                <MatTable Items="@GetFiles()"
                          class="mt-2 mat-elevation-z10"
                          DebounceMilliseconds="150"
                          FilterByColumnName="@nameof(FileViewModel.Name)"
                          SearchTermFieldLabel="Name"
                          SearchTermFieldPlaceHolder="Input the name">
                    <MatTableHeader>
                        <th>Size</th>
                        <th>Name</th>
                    </MatTableHeader>
                    <MatTableRow Context="torrent">
                        <td>@torrent.Size</td>
                        <td>@torrent.Name</td>
                    </MatTableRow>
                </MatTable>
            </ChildContent>
        </MatTab>
    }

    @if (Model.Content != null)
    {
        <MatTab>
            <LabelContent>
                <MatIcon Icon="@MatIconNames.Comment" />
                <p class="m-0">Content</p>
            </LabelContent>

            <ChildContent>@((MarkupString)Model.Content)</ChildContent>
        </MatTab>
    }
</MatTabGroup>

@code
{
    [Parameter] public TorrentDetailsViewModel Model { get; set; }

    private IEnumerable<FileViewModel> GetFiles() => Model.Files.AsEnumerable();
}