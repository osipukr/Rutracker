@attribute [Authorize(Roles = UserRoles.Admin)]

@inject IUserService UserService

@page "/users"

<Page Title="user list" Action="@ActionResult" Errors="@Errors">
    <UserList Items="@UsersItems" />
</Page>

@code
{
    private IEnumerable<UserViewModel> UsersItems { get; set; }

    protected override async Task OnInitializedAsync() => await UsersAsync();

    private async Task UsersAsync() => await LoadAsync(async () => UsersItems = await UserService.ListAsync());
}