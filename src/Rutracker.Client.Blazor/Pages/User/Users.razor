@attribute [Authorize(Roles = UserRoles.Admin)]

@inject IUserService UserService

@page "/users"

<Page Title="user list" Action="@ActionResult" Errors="@Errors">
    <UserList Items="@UserItems" />
</Page>

@code
{
    private IEnumerable<UserViewModel> UserItems { get; set; }

    protected override async Task OnInitializedAsync() => await LoadAsync(UsersAsync);

    private async Task UsersAsync() => UserItems = await UserService.ListAsync();
}