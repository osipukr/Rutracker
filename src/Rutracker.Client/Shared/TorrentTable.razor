<div class="table-responsive">
    <table class="table table-hover table-bordered rounded">
        <thead class="thead-dark">
            <tr>
                @if (TableHeader != null)
                {
                    @TableHeader
                }
            </tr>
        </thead>
        <tbody>
            @if (Items.Any())
            {
                @foreach (var torrent in Items)
                {
                    <tr onclick="@(_ => RowClicked(torrent.Id))">
                        @RowTemplate(torrent)
                    </tr>
                }
            }
            else
            {
                <tr class="text-center">
                    <td colspan="4">Torrent list empty ;(</td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                @if (TableFooter != null)
                {
                    @TableFooter
                }
            </tr>
        </tfoot>
    </table>
</div>

@functions
{
    [Parameter] protected RenderFragment TableHeader { get; set; }
    [Parameter] protected RenderFragment<TorrentItemViewModel> RowTemplate { get; set; }
    [Parameter] protected RenderFragment TableFooter { get; set; }
    [Parameter] protected IEnumerable<TorrentItemViewModel> Items { get; set; }
    [Parameter] protected Action<long> ClickHandler { get; set; }

    private void RowClicked(long id) => ClickHandler?.Invoke(id);
}