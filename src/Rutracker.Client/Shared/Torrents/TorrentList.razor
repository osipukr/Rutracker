@inject ViewSettings ViewSettings

@if (Items == null)
{
    <LoadingBackground>
        <span>Loading torrents, please wait...</span>
    </LoadingBackground>
}
else if (Items.Length == 0)
{
    <LoadingBackground ShowLoader="false">
        <span>Sorry, but torrent list is empty...</span>
    </LoadingBackground>
}
else
{
    <div class="mat-layout-grid">
        <div class="mat-layout-grid-inner">
            @foreach (var torrent in Items)
            {
                <div class="mat-layout-grid-cell">
                    <MatRipple class="mat-ripple no-select mat-elevation-z10" 
                               Color="@MatRippleColor.Secondary">
                        <MatCard>
                            <p>
                                <MatIcon Icon="date_range"></MatIcon>
                                <span>@torrent.Date</span>
                            </p>
                            <p>@torrent.Title</p>
                            <p>@torrent.Size</p>
                            <p>@torrent.Id</p>
                        </MatCard>
                    </MatRipple>
                </div>
            }
        </div>
    </div>
}

@functions
{
    [Parameter] TorrentItemViewModel[] Items { get; set; }
    [Parameter] int PageSize { get; set; }

    static string TorrentDetailsUri(long id) => $"/torrent/{id}";
}